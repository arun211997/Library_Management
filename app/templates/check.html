<!DOCTYPE html>
<html lang="en">

<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Best Web Development Company</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="demo.css">
    <link rel="icon" href="OIP__1_-removebg-preview.png" type="image/png">
    <style>
        .navbar {
            width: 100%;
            position: fixed;
            z-index: 3000;
        }
    </style>
</head>

<body style="background-color: rgb(230, 230, 237);">
    <header>
        <nav class="navbar navbar-expand-lg navbar-light" style="background-color:darkslategrey;">
            <a class="navbar-brand" href="#" style="font-weight: bold;color: aliceblue;"><img src="/static/logo.png"
                    alt="" height="30px">LIBRARY</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item active">
                        <form action="{%url 'usearch'%}" method="post">
                            {% csrf_token %}
                            <input type="text" placeholder="Search" name="search"
                                style="border-radius: 5px; height: 40px; width: 200px;">
                            <button type="submit"
                                style="border-radius: 10px; background-color: rgb(228, 228, 228);color:rgb(20, 65, 67)e;">
                                Search
                            </button>
                        </form>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link" href="{% url 'user'%}" style="color: aliceblue; font-weight: bold;">Home <span
                                class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'profile'%}" style="color: aliceblue; font-weight: bold;">Profile</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'issued'%}" style="color: aliceblue; font-weight: bold;">Rented Books</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'purchased' %}" style="color: aliceblue; font-weight: bold;">Purchased Books</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'losted'%}" style="color: aliceblue; font-weight: bold;">Lost Books</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'cartpage'%}" style="color: aliceblue; font-weight: bold;">Cart</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'logout' %}" style="color: aliceblue; font-weight: bold;">Logout</a>
                    </li>
                </ul>
        </nav>
    </header><br>
    <div class="container">
        <h4 class="text-center" style="margin-top: 60px; color:rgb(12, 74, 88);">Rent now</h4>
    </div>
    <div class="container-fluid" style="width: 100%; display: flex; justify-content: center; align-items: center;">
        <div class="row"
            style="margin-bottom: 1vw; background-color: rgb(226, 233, 239); border-radius: 8px; margin-bottom: 40px;height: max-content;width: 100%;">
            <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12"
                style="border: none; justify-content: center;width: 100%; display: flex;align-items: center;background-color: rgb(214, 225, 234);">
                <img id="l_image" src="{{ book.image.url }}" alt="" height="300vh"
                    style="margin-top: 10px;margin-bottom: 10px;">
            </div>
            <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12"
                style="font-size: medium; text-align: center;display: flex;flex-direction: column;justify-content: center;align-content: center;background-color: rgb(193, 208, 220);">
                <div>
                    <p style="font-weight: bold; margin-top: 5px; text-transform: uppercase;color: rgb(69, 81, 91);"
                        class="text-center">
                        {{book.book_name}}</p>
                    <p style="margin-top: -5px;color: rgb(74, 90, 104);">Author: <span
                            style="font-weight: bold; text-align: left;color: rgb(52, 118, 132);font-size: clamp(8px,1vw,24px);">{{book.author_name}}</span>
                    </p>
                    <p style="margin-top: -10px;color: rgb(74, 90, 104);">Genere: <span
                            style="font-weight: bold; text-align: left;color: rgb(52, 118, 132);font-size: clamp(8px,1vw,24px);">{{book.genere.ctgname}}</span>
                    </p>
                    <p style="color: rgb(68, 87, 104);">Rent Price:₹ <span
                            style="font-weight: bold;color: rgb(80, 94, 104);">{{book.rent}}/day</span> </p>
                </div>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12"
                style="border: none; justify-content: center;width: 100%; display: flex;align-items: center;background-color: rgb(214, 225, 234);">
                <div class="spec" style="text-align: left;">
                    <form method="post" onsubmit="return validateDates()" action="{% url 'place' book.id %}"
                        style="font-size:medium;color: rgb(74, 78, 83);">
                        {% csrf_token %}
                        <label for="">From</label><br>
                        <input type="date" name="fdate" id="fdate" required><br> <label for="">To Date</label><br>
                        <input type="date" name="tdate" id="tdate" required><br>
                        <span style="color: rgb(164, 79, 79);" id="dateError" class="error"></span><br>
                         <button type="submit"
                            style="border-radius: 5px; background-color:rgb(12, 74, 88);color: aliceblue;margin-top: 20px;">Submit</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer"
        style="background-color: darkslategray;color: rgb(253, 254, 255);height: max-content;bottom: 0;display: flex;width: 100%;margin-top: 150px;bottom: 0;">
        <div class="container">
            <div class="row" style="justify-content: center;">
                <div class="col-md-6"
                    style="justify-content: center;display: flex;flex-direction: column; align-self: center;">
                    <div
                        style="justify-content: center;margin-top: 10px;display: flex;flex-direction: column;align-items: center;">
                        <h5>Contact Us</h5>
                        <ul class="list-unstyled">
                            <li>
                                <p>123 Library St, City, Country</p>
                            </li>
                            <li>
                                <p>Email: info@example.com</p>
                            </li>
                            <li>
                                <p>Phone: +123 456 7890</p>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-6"
                    style="justify-content: center;display: flex;flex-direction: column;align-items: center;">
                    <h5>Follow Us</h5>
                    <ul class="list-unstyled" style="color: aliceblue;">
                        <li><a style="color: rgb(249, 251, 252);" href="#">Facebook</a></li>
                        <li><a style="color: rgb(247, 249, 251);" href="#">Twitter</a></li>
                        <li><a style="color: rgb(253, 254, 255);" href="#">Instagram</a></li>
                    </ul>
                </div>
            </div>
            <hr>
            <p class="text-center">© 2024 Your Library. All rights reserved.</p>
        </div>
    </footer>
    <script>
        function validateDates() {
            // Get references to the date input elements
            var fromDate = document.getElementById('fdate');
            var toDate = document.getElementById('tdate');

            document.getElementById('dateError').innerHTML = '';

            // Check if either date is empty (already handled by required attribute)

            // Validate To date is after From date
            var fromDateObj = new Date(fromDate.value);
            var toDateObj = new Date(toDate.value);
            if (toDateObj <= fromDateObj) {
                document.getElementById('dateError').innerHTML = 'To date cannot be old date';
                return false;
            }

            // If all checks pass, allow form submission
            return true;
        }
    </script>
</body>

</html>